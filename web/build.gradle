def eclipsePluginProjects = subprojects.findAll{it.file('build.properties').exists()}

configure(eclipsePluginProjects) {
	apply from: "${rootDir}/gradle/eclipse-plugin-project.gradle"
}

configure(subprojects - eclipsePluginProjects) {
	apply plugin: 'java'
	apply plugin: 'eclipse'
	apply from: "$rootDir/gradle/maven-deployment.gradle"
	
	sourceSets {
		main.java.srcDir 'src/main/xtend-gen'
		test.java.srcDir 'src/test/xtend-gen'
	}
}